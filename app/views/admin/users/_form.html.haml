

- if @user.errors.any?
  #error_explanation
    %h2
      = pluralize(@user.errors.count, 'error')
      prohibited this user from being saved:

    %ul
      - @user.errors.full_messages.each do |msg|
        %li= msg

= form_for [:admin, @user], :role => 'form', :html => {:class => 'form-horizontal'}  do |f|

  .col-sm-8.field
    %table{style: 'width: 170px;'}
      %tr
        %td
          Roles
        %td
          %ul
            - Role.global.each do |role|
              %li
                %label{style: 'display: block; margin: 0; padding: 0'}
                  = hidden_field_tag( role.name.to_sym, 0 )
                  = check_box_tag( role.name, 1, @user.has_role?( role.name.to_sym ))
                  &nbsp;
                  = role.name.titleize

  .col-sm-8.field
    Available? &nbsp;
    %label{style: 'padding-right; 20px;'}
      = f.radio_button :available, true, :value => true
      &nbsp; Yes

    &nbsp;&nbsp;&nbsp;

    %label
      = f.radio_button :available, false, :value => false
      &nbsp; No

  .col-sm-8.field
    = f.label :name, "#{t(:name)} *"
    = f.text_field :name, class: 'form-control', autofocus: true, required: 'true'

  .col-sm-8.field
    = f.label :phone_number, "#{t(:phone_number)} *"
    = f.telephone_field :phone_number, class: 'form-control', required: 'true'

  .col-sm-8.field
    = f.label :address1, t(:address)
    = f.text_field :address1, class: 'form-control'

  .clearfix

  .col-sm-8.field
    = f.label :city, t(:city)
    = f.text_field :city, class: 'form-control', required: 'true'

  .col-sm-8.field
    = f.label :state, t(:state)
    = f.text_field :state, class: 'form-control', required: 'true'

  .col-sm-8.field
    = f.label :zip, t(:zip)
    = f.text_field :zip, class: 'form-control', required: 'true'

  .col-sm-8.field
    = f.submit t(:save), class: 'btn btn-primary', style: 'width: 100%; margin-top: 10px;', disable_with: "#{t(:saving)}..."

    .small{style: 'margin: 10px 0 50px 0;'}
      By saving your are agreeing to the #{link_to t(:terms_of_service), terms_of_service_path, target: '_blank'}.